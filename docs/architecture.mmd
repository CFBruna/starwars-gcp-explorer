graph TB
    subgraph "Google Cloud Platform"
        User[User Browser]
        CloudRun[Cloud Run Service]
        ArtifactRegistry[Artifact Registry]
    end

    subgraph "External Services"
        SWAPI["SWAPI (swapi.dev)"]
    end

    User -->|HTTPS| CloudRun
    
    subgraph "Container (Monolith)"
        FastAPI[FastAPI App]
        React["React SPA (Static)"]
        
        subgraph "Application Layer"
            UseCases[Use Cases]
            Ports[Ports / Interfaces]
        end
        
        subgraph "Infrastructure Layer"
            SwapiAdapter[SWAPI HTTP Adapter]
            LRUCache[In-Memory LRU Cache]
        end
    end

    CloudRun --> React
    CloudRun --> FastAPI
    
    FastAPI --> UseCases
    UseCases --> Ports
    Ports -.-> SwapiAdapter
    SwapiAdapter --> LRUCache
    SwapiAdapter -->|HTTP GET| SWAPI
    
    ArtifactRegistry -.->|Pull Image| CloudRun

    classDef gcp fill:#4285F4,stroke:#fff,stroke-width:2px,color:#fff;
    classDef ext fill:#fbbc04,stroke:#fff,stroke-width:2px,color:#000;
    classDef app fill:#34a853,stroke:#fff,stroke-width:2px,color:#fff;
    
    class CloudRun,ArtifactRegistry gcp;
    class SWAPI ext;
    class FastAPI,React,UseCases,SwapiAdapter app;
